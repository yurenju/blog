---
title: "Element Protocol 固定利率協議"
author: "Yuren Ju"
date: 2021-10-07T07:31:35.347Z
lastmod: 2023-06-06T13:44:36+08:00
categories: [tech]

description: ""

subtitle: "Element Protocol 是一個透過重新包裝浮動利率的 DeFi 產品成為本金代幣以及利率代幣來提供固定利率的 DeFi 產品"

images:
  - "/posts/2021-10-07_element-protocol-固定利率協議/images/1.png"
  - "/posts/2021-10-07_element-protocol-固定利率協議/images/2.png"
  - "/posts/2021-10-07_element-protocol-固定利率協議/images/3.png"
---

目前絕大部分的 DeFi 產品所提供的金融產品不論是借貸協議、流動性協議等等通常都是提供浮動的利率，根據市場供需狀況來隨時動態調整利率。比如說 Compound Finance 的借貸利率隨時都在變動，這些產品也沒辦法保證固定的利率的原因也很單純，因為這些都是根據市場供需狀況隨時調節的，沒辦法提供固定利率。

如果你想要達成某一個目標利潤，一般來講就需要積極的看目前的市場狀況，並且隨著利潤隨波逐流把資金放到不同的 DeFi 產品才能更好的達到目標。但是這樣的調整總是伴隨著交易費的損耗。雖然固定利率的產品通常來說利潤都會比較低，但是可以預期的特性還是會讓比較沒時間盯盤的使用者一個比較好的被動投資方式。

在一般金融領域通常都會透過利率交換 (Interest Rate Swap, IRS) 來將浮動利率轉換成固定利率，雖然說在去中心化的結構也可以做到這樣的功能，但是會有其他的問題比如說資金枯竭或是各種套利攻擊手段。

而 Element Protocol 則設計了一個機制讓多方參與，在讓市場參與的狀況下實現固定利率的金融產品。

### 浮動利率協議

浮動利率協議有很多，幾乎目前的 DeFi 產品有提供利率的情況下都是浮動利率。舉 Compound Finance 借貸協議為例子，當使用者將 1000 USDC 存入一個 10~20% 浮動利率的池子時，Compound 會發回 cUSDC 作為借貸憑證，數量則不一定，我們這邊假設是 20000 cUSDC。

![image](/posts/2021-10-07_element-protocol-固定利率協議/images/1.png#layoutTextWidth)

這個 20,000 cUSDC 會隨著時間價值慢慢浮動提升，如果在半年的時候換回 USDC，這 20000 cUSDC 可以換到 1050~1100 USDC (這邊就簡化先算單利的狀況比較容易解釋)，而到一年後換回，則可以換出 1100~1200 USDC。

這也是大家目前最熟悉的場景，存入某種代幣，協議考量市場狀況提供一個浮動利率給使用者。而這邊有個問題是資金利用率會比較低。

假如說使用者發現有另外一個地方有機會可以用 USDC 投入獲取 50% 的收益，使用者有幾個選擇：

1.  把資金繼續放在這邊，獲取 10~20% 利率
2.  抽出資金到另外一個投資機會，放棄 10~20% 利益，追求 50% 利潤的機會
3.  透過 Compound 借出另外一個資產，換成 USDC 之後再到那邊投資，不過這個方法就是手動操作很多不同資產轉換了，中間會產生許多交易費耗損、匯差風險以及清算風險等

總結來說，這樣的協議讓資金利用率沒那麼好，如果要比較好的資金利用率，就要承擔額外的風險。

### Element Protocol

我們在講固定利率的產品前，需要先說明 Element Procotol 是怎麼運作，因為他的運作原理產生的副產品就是固定利率產品。

Element Protocol 本身是一個包裝著浮動利率產品的新協議，其實他最終還是會把資金放到其他浮動利率的 DeFi 產品去，我們這邊假設他背後的產品是 Compound (實際上是 Yearn，但是 Compound 比較好舉例)。

![image](/posts/2021-10-07_element-protocol-固定利率協議/images/2.png#layoutTextWidth)

我們假設一個 Element 建立了一個一年期限的產品，他底下包裝的協議是一個利率為 10~20% 的 Compound USDC 池子。

當使用者把 1000 USDC 存入 Element 之後，會鑄造出兩種代幣：

- Principal Token (PT): 代表著本金代幣。存入時會有折扣損耗，上圖的例子是損耗 10%，所以會獲得 900 PT。當存滿一年後，900 PT 可以跟原本的合約兌換回 1000 USDC
- Yield Token (YT): 代表著利潤代幣。會跟存入的代幣一樣數量，用 1000 USDC 可以換到 1000 YT，存滿一年後 1000 YT 可以換到 100~200 USDC

實際上 Element 還是會把這些錢存入 Compound，得到 20,000 cUSDC 並且儲存在合約當中，而不是給使用者，取得代之使用者會拿到 PT + YT，但是一年到期後 PT 加上 YT 可以換回的 USDC 數量跟原本存入 Compound 一模一樣。

在這個合約的期限內使用者都不可以跟合約直接兌換回 USDC，只有期限到後 PT 跟 YT 才可以兌換回去。但是 PT 跟 YT 其實是可以拿到市場交易的，比如說他可以放入 AMM 裏面讓其他人買賣，至於 PT 跟 YT 的價格就由市場決定。

這樣總結來看，使用 Element protocol 比起單純使用 Compound 完全沒有好處，而且還需要綁定一個期限，那為什麼使用者要使用這個協定，而不是直接使用 Compound 或 Yearn 呢？

答案就是 Element 提供了風險更小的資金使用率。

### 更高的資金利用率，更小的風險

回到上面的例子來看，當使用者存入 10~20% 的 Compound 池子後，原本的本金就無法再利用，否則就要用風險比較高的方式取得資金。但若使用 Element 時，使用者可以把 PT 在市場賣出將部分本金換回來並且保留 YT 來領取利潤。這樣既可以獲得浮動利潤，同時部分本金也可以用風險比較低的方式來利用。

比如說上述的例子外面有 50% 的獲利機會，假設 900 PT 現在只能換到 900 USDC，考慮到 50% 利潤可以彌補 10% 的折扣損失，使用者還是可以賣出 PT 來換取部分本金來利用，並且保留 YT 來在期限截止後換取浮動利潤。

換成數字的話，當使用者賣掉 900 PT 換得 900 USDC，並且做出一個投資決定獲得了 450 USDC 的獲利後，不管投資的失敗與否，原本的 YT 都可以在期限結束後獲得 100~200 USDC 的浮動收益，並且在這樣換取部分本金的狀況下不需要承擔清算風險。

### Principal Token 定價與固定利率

但 PT 是如何定價的呢？在一年後則可以透過智能合約換回 1:1 的 USDC，而剛開始換成 PT 時數量上則會有一個折扣耗損比如說 10%，換句話說越靠近期限時 PT 價值會約接近 1:1。當市場流動性高的時候，我們可以說 PT 會以 1/9=11.11% 的固定利率成長，這樣這個 PT 就變成了一個固定利率的產品了。

![image](/posts/2021-10-07_element-protocol-固定利率協議/images/3.png#layoutTextWidth)

使用者不見得要自己投入 USDC 換取 PT 跟 YT，其實也可以直接到市場上買 PT，這樣對他來說這就是一個固定利率的產品，時間到之後可以直接跟智能合約贖回 USDC。從他的角度看就是一個一年期固定利率為 11.11% 的產品，用 900 USDC 購買後，一年後可以變成 1000 USDC。

### 額外利益：流動性

除此之外 PT 與 YT 的持有者也可以透過流動性提供的方法來獲取交易費。比如說今天有一個 ETH 的池子，當你希望增加你的 ETH 數量時，提供 PT/ETH 交易對就會是個好主意，因為這個 PT 最終可以贖回 ETH，所以提供流動性則可以在這個交易對之間獲取額外的 PT 跟 ETH，最終都可以換成 ETH。

### 結論

Element 透過重新包裝浮動利率的產品，額外加上期限與切分成 PT, YT，再讓 PT 購買時會有一個折扣的方式，間接地創造出了固定利率的產品。在這樣重新包裝的狀況下：

- 追求高利潤的使用者，可以從賣出 PT 獲得部分本金來最大化自己的資金利用率，同時保持較低風險
- 想要用較被動方法投資的使用者，可以購買 PT 獲取固定利率的產品
- 想要增加自己特定代幣持倉數量的使用者，可以透過提供流動性來用交易費提高自己的持倉量

不過就我看起來流動性的高低會影響到這個系統的效率，不管是高風險或低風險的使用者，都需要有流動性才能保證他們可以用適當的價格取得部分本金或是固定利率產品。除了透過流動性獎勵外，可能還需要其他更多誘因來讓其他協議可以為 Element 提供流動性才可以讓 Element 順利的運行下去。

參考資料

- [Element Protocol Paper](https://paper.element.fi/#4-minting-and-providing-liquidity)
